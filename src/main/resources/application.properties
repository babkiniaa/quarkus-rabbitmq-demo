# ===========================================
# APPLICATION CONFIGURATION
# ===========================================
quarkus.application.version=1.0.0
quarkus.package.type=jar

# ===========================================
# HTTP SERVER CONFIGURATION
# ===========================================
quarkus.http.port=8080
quarkus.http.host=0.0.0.0
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
quarkus.log.level=INFO
quarkus.log.console.enable=true
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] %s%e%n
quarkus.log.category."com.bunny".level=DEBUG
quarkus.log.category."io.smallrye.reactive.messaging".level=INFO

# JSON Logging (optional)
# quarkus.log.console.json=true
# quarkus.log.console.json.pretty-print=true

# ===========================================
# RABBITMQ CONNECTION CONFIGURATION
# ===========================================
# Main connection
mp.messaging.connector.smallrye-rabbitmq.host=localhost
mp.messaging.connector.smallrye-rabbitmq.port=5672
mp.messaging.connector.smallrye-rabbitmq.username=bunny
mp.messaging.connector.smallrye-rabbitmq.password=carrot123
mp.messaging.connector.smallrye-rabbitmq.virtual-host=/
mp.messaging.connector.smallrye-rabbitmq.connection-timeout=10000

# Reconnection settings
mp.messaging.connector.smallrye-rabbitmq.reconnect-attempts=10
mp.messaging.connector.smallrye-rabbitmq.reconnect-interval=5000
mp.messaging.connector.smallrye-rabbitmq.failure-strategy=dead-letter-queue

# SSL/TLS (disable for local development)
mp.messaging.connector.smallrye-rabbitmq.ssl=false
mp.messaging.connector.smallrye-rabbitmq.ssl.verify-host=false
mp.messaging.connector.smallrye-rabbitmq.ssl.trust-all=true

# ===========================================
# HEALTH CHECKS
# ===========================================
quarkus.health.extensions.enabled=true
quarkus.smallrye-health.root-path=/health

# ===========================================
# METRICS
# ===========================================
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/metrics
quarkus.micrometer.binder.rabbitmq.enabled=true

# ===========================================
# OPENAPI / SWAGGER
# ===========================================
quarkus.smallrye-openapi.path=/openapi
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui

# ===========================================
# DEVELOPMENT MODE
# ===========================================
quarkus.devservices.enabled=true
quarkus.devservices.rabbitmq.enabled=false # ?? ?????????? ???? RabbitMQ
quarkus.live-reload.instrumentation=true

%dev.quarkus.log.level=DEBUG
%dev.quarkus.log.category."com.bunny".level=TRACE

# ===========================================
# TESTING
# ===========================================
%test.mp.messaging.connector.smallrye-rabbitmq.host=localhost
%test.mp.messaging.connector.smallrye-rabbitmq.port=5672
%test.mp.messaging.connector.smallrye-rabbitmq.username=guest
%test.mp.messaging.connector.smallrye-rabbitmq.password=guest

# ===========================================
# PRODUCTION PROFILE
# ===========================================
%prod.quarkus.log.level=WARN
%prod.quarkus.http.port=${PORT:8080}
%prod.mp.messaging.connector.smallrye-rabbitmq.host=${RABBITMQ_HOST:localhost}
%prod.mp.messaging.connector.smallrye-rabbitmq.port=${RABBITMQ_PORT:5672}
%prod.mp.messaging.connector.smallrye-rabbitmq.username=${RABBITMQ_USERNAME:bunny}
%prod.mp.messaging.connector.smallrye-rabbitmq.password=${RABBITMQ_PASSWORD:carrot123}